# SKN13-4th-3Team

### 4차 프로젝트: JJACKLETTE - 기업 특화된 이미지 생성 AI 챗봇<br>

**개발기간:** 2025.07.18 ~ 2025.07.22

## 🐥 팀 소개
## 팀명: 밥심 🍚

<!-- | **기원준🥚** | **전진혁🐣** | **강지윤🐥** | **최호연🐓** | | **우민규🍗** |
|:--------------:|:--------------:|:--------------:|:--------------:|
| @ki-student     | @Jinhyeok33 | @jiyun-kang12 | @oowixj819 | | @mingyu-oo | -->


<table>
  <tr>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/50dc49bf-6b22-46f4-b98b-ca471b23e5e7" width="100"/><br/>기원준🥚
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/b3003734-50d5-4a7c-93a0-468345b23d1a" width="100"/><br/>전진혁🐣
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/85c59737-8172-4319-ac86-f1a766d83dab" width="100"/><br/>강지윤🐥
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/7d5d501e-a319-4704-8f15-e593fcf2f90f" width="100"/><br/>최호연🐓
    </td>
    <td align="center">
      <img src="https://github.com/user-attachments/assets/af8e3f73-c42f-451d-b3c9-1234aa6328cf" width="100"/><br/>우민규🍗
    </td>
  </tr>
  <tr>
    <td align="center">
      <a href="https://github.com/ki-student"><img src="https://img.shields.io/badge/GitHub-ki--student-1F1F1F?logo=github" alt="기원준 GitHub"/></a>
    </td>
    <td align="center">
      <a href="https://github.com/Jinhyeok33"><img src="https://img.shields.io/badge/GitHub-Jinhyeok33-1F1F1F?logo=github" alt="전진혁 GitHub"/></a>
    </td>
    <td align="center">
      <a href="https://github.com/jiyun-kang12"><img src="https://img.shields.io/badge/GitHub-jiyun--kang12-1F1F1F?logo=github" alt="강지윤 GitHub"/></a>
    </td>    <td align="center">
      <a href="https://github.com/oowixj819"><img src="https://img.shields.io/badge/GitHub-oowixj819-1F1F1F?logo=github" alt="최호연 GitHub"/></a>
    </td>    <td align="center">
      <a href="https://github.com/mingyu-oo"><img src="https://img.shields.io/badge/GitHub-mingyu--oo-1F1F1F?logo=github" alt="우민규 GitHub"/></a>
    </td>
</table>


### 🐥 1. 프로젝트 개요

#### 1.1. 개발 동기 및 목적  







#### 1.2. 본 챗봇의 차별성







#### 1.3. 개발 목표  






### 🐥 2. 기술 스택
| **분야**              | **기술 및 라이브러리**                                                                                                                                                                                                                            |
| ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 🖥️ 프로그래밍 언어 & 개발환경 | <img src="https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=Python&logoColor=white" /> <img src="https://img.shields.io/badge/VS%20Code-007ACC?style=for-the-badge&logo=VisualStudioCode&logoColor=white" />            |
| 🔗 LLM 체인 및 워크플로우   | <img src="https://img.shields.io/badge/LangChain-005F73?style=for-the-badge&logo=LangChain&logoColor=white" /> <img src="https://img.shields.io/badge/LangGraph-000000?style=for-the-badge&logo=LangChain&logoColor=white" />             |
| 🧠 LLM 모델           | <img src="https://img.shields.io/badge/OpenAI%20GPT--4.1-412991?style=for-the-badge&logo=OpenAI&logoColor=white" /> <img src="https://img.shields.io/badge/OpenAI%20Embeddings-10A37F?style=for-the-badge&logo=OpenAI&logoColor=white" /> |
| 🖼️ 사용한 모델        | <img src="https://img.shields.io/badge/InternVL3--8B-FF6F61?style=for-the-badge&logo=OpenAI&logoColor=white" /> <img src="https://img.shields.io/badge/stable--diffusion--v1--5-4F8A8B?style=for-the-badge&logo=StableDiffusion&logoColor=white" /> |
| 📄 문서 로딩 및 전처리      | <img src="https://img.shields.io/badge/PyMuPDF-00599C?style=for-the-badge&logo=AdobeAcrobatReader&logoColor=white" /> <img src="https://img.shields.io/badge/pandas-150458?style=for-the-badge&logo=pandas&logoColor=white" />            |
| 📦 벡터 저장소 및 임베딩     | <img src="https://img.shields.io/badge/qdrant-E34F26?style=for-the-badge&logo=qdrant&logoColor=white">                                                                                                                                |
| 🌐 데이터 수집           | <img src="https://img.shields.io/badge/Selenium-43B02A?style=for-the-badge&logo=Selenium&logoColor=white" /> <img src="https://img.shields.io/badge/requests-7A88CF?style=for-the-badge&logo=Python&logoColor=white" />                   |
| 🔐 환경 변수 및 설정 관리    | <img src="https://img.shields.io/badge/python_dotenv-000000?style=for-the-badge&logo=Python&logoColor=white" />                                                                                                                           |
| 💬 메시지 및 커뮤니케이션     | <img src="https://img.shields.io/badge/Discord-5865F2?style=for-the-badge&logo=Discord&logoColor=white" />                                                                                                                                |
| 📁 협업 및 형상 관리       | <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white" /> <img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white" />  




## 🐥 3. 요구사항 명세서


### 기능 요구사항 (Functional Requirements)

| 요구사항 ID | 기능유형 | 요구사항명      | 요구사항 내용                                               | 중요도 | 담당자 | 수용여부 |
| :---------: | :------: | :------------- | :--------------------------------------------------------- | :----: | :----: | :------: |
| BAB-001     | 기능     | 회원관리       | 회원 가입, 로그인, 정보 수정, 탈퇴 등의 기능을 제공해야 함. | 상     |        | 수용     |
| BAB-002     | 기능     | 챗봇           | 일반 질문, 이미지 검색의 기능을 제공해야 함.               | 상     |        | 수용     |
| BAB-003     | 비기능   | 반응형 디자인  | 디바이스 크기에 맞춰 디스플레이를 자동조정해야 함.         | 상     |        | 수용     |
| BAB-004     | 비기능   | 보안           | 안전해야 함.                                               | 상     |        | 수용     |
| BAB-005     | 비기능   | 성능           | 응답 시간이 2초 이내여야 함.                               | 하     |        | 수용     |
| BAB-006     | 기능     | 프로필 수정    | 닉네임, 이메일 수정이 가능해야 함.                         | 중     |        | 수용     |




### 🐥 4. 파일구조

📦SKN13-4th-3Team<br>
┣ 📂Qdrant_DB<br>
┃ ┣ 📂collection<br>
┃ ┃ ┗ 📂InternVL3_vector_store<br>
┃ ┃ ┃ ┗ 📜storage.sqlite<br>
┃ ┗ 📜meta.json<br>
┣ 📂Tools<br>
┃ ┗ 📜tools.py<br>
┣ 📂accounts<br>
┃ ┣ 📂__pycache__<br>
┃ ┃ ┣ ...<br>
┃ ┣ 📂migrations<br>
┃ ┃ ┣...
┃ ┣ 📂templates<br>
┃ ┃ ┗ 📂accounts<br>
┃ ┃ ┃ ┣ ...<br>
┃ ┣ ...
┣ 📂chat_bot<br>
┃ ┣ 📂__pycache__<br>
┃ ┃ ┣ ...<br>
┃ ┣ 📂migrations<br>
┃ ┃ ┣ 📂__pycache__<br>
┃ ┃ ┃ ┗ 📜__init__.cpython-312.pyc<br>
┃ ┃ ┣ ...<br>
┃ ┣ 📂rag<br>
┃ ┃ ┣ 📜prompt_template.py<br>
┃ ┃ ┗ 📜retriever.py<br>
┃ ┣ 📂templates<br>
┃ ┃ ┗ 📂chat_bot<br>
┃ ┃ ┃ ┣ 📜chat_bot.html<br>
┃ ┃ ┃ ┗ 📜chat_converation.html<br>
┃ ┣ ...
┣ 📂config<br>
┃ ┣ 📂__pycache__<br>
┃ ┃ ┣ ...<br>
┃ ┣ ...
┣ 📂data<br>
┃ ┗ 📜InternVL3_8B_result_dataset.json<br>
┣ 📂images<br>
┃ ┗ 📜.DS_Store<br>
┣ 📂main<br>
┃ ┣ 📂__pycache__<br>
┃ ┃ ┣ ...<br>
┃ ┣ 📂migrations<br>
┃ ┃ ┣ 📂__pycache__<br>
┃ ┃ ┃ ┗ 📜__init__.cpython-312.pyc<br>
┃ ┃ ┗ 📜__init__.py<br>
┃ ┣ 📂templates<br>
┃ ┃ ┗ 📂main<br>
┃ ┃ ┃ ┣ 📜base.html<br>
┃ ┃ ┃ ┗ 📜home.html<br>
┃ ┣ ...
┣ 📂model_core<br>
┃ ┣ ...<br>
┣ 📂qdrant<br>
┃ ┣ 📜.lock<br>
┃ ┗ 📜meta.json<br>
┣ 📂templates<br>
┃ ┗ 📜base.html<br>
┣ 📂Code<br>
┃ ┗ 📜<br>
┃ ┗ 📜<br>
┣ 📂산출물<br>
┃ ┗ 📜시스템 아키텍쳐.png<br>
┃ ┗ 📜4차프로젝트__UI설계.png<br>
┣ 📜.DS_Store<br>
┣ 📜.gitignore<br>
┣ 📜README.md<br>
┣ 📜db.sqlite3<br>
┣ 📜manage.py<br>
┗ 📜requirements.txt<br>




 ### 🐥 5. 데이터 수집 및 전처리




 🏷️ **메타데이터 태깅 기준**





 ### 🐥 6. RAG 기반 챗봇 구현🤖


 🔧**시스템 아키텍처**<br>
<img src="https://github.com/user-attachments/assets/3674399e-9305-4713-8e79-f35bf0148dfc" width="800" alt="system"> <br>

 🔧**UI 화면 설계서**<br>
<img src="https://github.com/user-attachments/assets/7b1b2875-0c88-46c7-8d45-4eb2fab2391d" width="800" alt="system"> <br>

# 🐥 7. 테스트 계획서

### 1. 프로젝트 개요

- **프로젝트명**: SKN13 자동차 설명/이미지 검색 시스템
- **주요기능**:
  - 회원관리, 프로필 수정
  - 챗봇 기반 이미지 생성 및 검색
  - LangChain + LangGraph 워크플로우
  - Qdrant 벡터 검색 및 InternVL3 기반 이미지 응답

### 2. 테스트 목적

- 시스템 기능이 요구사항에 맞게 정확하게 동작하는지 확인
- 이미지/텍스트 경로 분기 및 워크플로우 정상작동 여부 검증
- 사용자 입력 흐름에 따른 적절한 응답 및 처리 안정성 확보

### 3. 테스트 범위

| 카테고리       | 내용                                  |
|----------------|---------------------------------------|
| 기능 테스트    | 회원가입, 로그인, 프로필 수정, 챗봇 응답 |
| 이미지 처리    | 생성 vs DB 검색 분기 및 결과 유효성 확인 |
| LangGraph 분기 | start → check_route → image/rag/llm 흐름 |
| 벡터 검색      | Qdrant 내 유사 차량 설명 검색 정확도 확인 |
| 성능 테스트    | 응답 시간 2초 이내 여부 측정           |
| 디자인 반응성  | 데스크탑 / 태블릿 / 모바일 디스플레이 정상 |

### 4. 테스트 환경

- OS: Ubuntu 22.04 LTS
- Python 3.12 / VS Code
- Backend: LangChain + LangGraph
- 벡터 DB: Qdrant + SentenceTransformer
- 프론트엔드: Django Template + Streamlit
- 브라우저: Chrome 최신버전

### 5. 테스트 일정

| 항목         | 일정            | 담당자 |
|--------------|-----------------|--------|
| 시나리오 작성 | 2025.07.21      | 팀 전체 |
| 기능별 테스트 | 2025.07.21 ~ 22 | 팀 전체 |
| 보고서 작성   | 2025.07.22      | 팀 전체 |



## 테스트 시나리오

| 시나리오 ID | 목적                   | 입력 예시                           | 예상 동작                               |
|-------------|------------------------|--------------------------------------|------------------------------------------|
| SCN-001     | 회원 가입 처리 확인    | 이메일, 비밀번호, 닉네임 입력       | 사용자 계정 생성 후 로그인 가능          |
| SCN-002     | 로그인 처리 확인       | 등록된 이메일/비밀번호 입력         | 메인 페이지로 리디렉션 및 세션 생성      |
| SCN-003     | 챗봇 이미지 생성 요청 | "전기 SUV 이미지를 생성해줘" 입력  | 이미지 생성 모델 실행 후 응답            |
| SCN-004     | DB 기반 이미지 검색    | "넥쏘와 유사한 차량 이미지 보여줘" 입력 | Qdrant 검색 후 유사 이미지 반환         |
| SCN-005     | 일반 질문 처리         | "현재 시간 알려줘"                   | GPT 모델 응답 반환                       |
| SCN-006     | LangGraph 흐름 검증    | 다양한 입력 조건 시 분기 여부 확인  | 조건에 따라 image / rag / llm로 분기됨   |
| SCN-007     | 반응형 UI 동작 확인    | 모바일 / 태블릿 접속                | 화면 요소 자동 리사이징 및 표시 정상     |
| SCN-008     | 벡터 DB 검색 정확도    | 차량 디자인 관련 키워드 질의        | 검색된 Top-K 차량 정보 반환              |



## 주요 테스트 항목

| 항목              | 세부 내용                                       |
|-------------------|--------------------------------------------------|
| 회원가입/로그인    | 유효한 입력 / 중복 계정 / 로그인 오류 처리       |
| 챗봇 입력 분기     | “이미지” vs “검색” vs 일반 질문 구분 로직        |
| LangGraph 흐름     | 상태 기반 노드 이동 정확성                       |
| 이미지 처리        | 생성 vs DB 기반 분기 및 결과 시각적 유효성 확인  |
| Qdrant 검색        | 벡터 유사도 기반 Top-K 결과 검증                 |
| UI 반응성          | 다양한 해상도에서 레이아웃 정상 표시              |
| 성능               | 평균 응답 시간 2초 이내 유지 여부                |
| 예외 처리          | 빈 입력 / 이상 입력 처리                         |



## 테스트 결과 기록

### [SCN-003] 챗봇 이미지 생성 요청

- 📌 목적: 이미지 생성 모델 정상 작동 확인
- 🧪 입력: “전기 SUV 이미지를 생성해줘”
- 🎯 기대 결과: 생성된 이미지 반환 및 출력
- ✅ 실제 결과: Stable Diffusion 기반 이미지 생성됨
- ⏱️ 응답 시간: 1.8초
- 🟢 결과: 성공
- 🗒️ 비고: 모델 생성 시간은 상황에 따라 다소 편차 있음

---

### [SCN-006] LangGraph 흐름 검증

- 📌 목적: 분기 노드 정확성 확인
- 🧪 입력: “넥쏘와 비슷한 차량 보여줘”
- 🎯 기대 결과: check_route → image → db → response 순 이동
- ✅ 실제 결과: 정확한 노드 흐름 확인됨
- 🟢 결과: 성공
- 🗒️ 비고: keyword 기반 분기는 정확했으며, fallback 처리도 있음

---

### [SCN-007] 반응형 UI 동작 확인

- 📌 목적: 모바일 기기 대응 여부 확인
- 🧪 입력: 모바일 화면 접속
- 🎯 기대 결과: 화면 요소 크기 자동 조절
- ✅ 실제 결과: Bootstrap 기반 반응형 정상 작동
- 🟢 결과: 성공



## ✅ 테스트 결과 보고서

### 1. 테스트 개요

- **일자**: 2025.07.21 ~ 07.22
- **방법**: 수동 기능 테스트 + 대화 시나리오 테스트
- **환경**: VS Code + Chrome + LangChain/Qdrant

### 2. 테스트 시나리오 결과

| 테스트 ID | 항목           | 입력 예시                     | 기대 결과                         | 실제 결과                         | 결과 |
|-----------|----------------|-------------------------------|-----------------------------------|-----------------------------------|------|
| TST-001   | 회원 가입      | 이메일, 닉네임 입력           | 가입 완료 및 로그인 가능          | 정상 처리                          | ✅   |
| TST-002   | 프로필 수정    | 닉네임 수정 요청              | 프로필 정보 수정됨                | 수정 확인됨                        | ✅   |
| TST-003   | 챗봇 응답 분기 | “이미지 보여줘”               | 이미지 검색 또는 생성 분기됨      | DB 검색 결과 제공                  | ✅   |
| TST-004   | 이미지 생성    | “미래적인 전기차 이미지 생성해줘” | Stable Diffusion 기반 이미지 반환 | 생성 이미지 출력됨                 | ✅   |
| TST-005   | LangGraph 흐름 | “이 차량 유사한 이미지 찾아줘” | check_route → image → db → response 흐름  | 분기 흐름 정상                     | ✅   |
| TST-006   | Qdrant 검색    | “곡선형 디자인 SUV”           | 유사도 순으로 차량 정보 제공      | 정확한 Top-K 결과 반환됨           | ✅   |
| TST-007   | 반응형 UI      | 모바일 화면 접속              | 화면 자동 조절                    | 부트스트랩 기반 반응형 적용 확인됨 | ✅   |
| TST-008   | 응답 성능      | 일반 질문                     | 2초 이내 응답                     | 평균 1.4초                         | ✅   |

### 3. 이슈 및 개선사항

| 이슈 ID | 내용                          | 개선 방향                          |
|---------|-------------------------------|-------------------------------------|
| BUG-001 | “그림” 입력 시 image 분기로 안감 | 키워드 매핑 강화 (예: 그림 → 이미지) |
| BUG-002 | Qdrant 필터 미적용             | category 기반 필터링 로직 추가      |
| BUG-003 | 빈 입력 시 흐름 오류 발생       | start 노드에서 예외 처리 추가       |

### 4. 결론

- 핵심 기능 요구사항은 대부분 **완벽히 충족**
- LangGraph 기반 흐름 안정적이며 확장에 적합
- UI 반응성 및 챗봇 분기 로직 모두 기대 이상
- GPT-4.o-mini 및 InternVL3 이미지 생성 기능 유효성 확인




### 🐥 8. 챗봇 구현 화면




### 🐥 9. 한줄 회고

 - 🥚기원준: AWS EC2 "Legend Server"
 - 🐣전진혁: docker master
 - 🐥강지윤: 
 - 🐓최호연: 
 - 🍗우민규: README를 잘 읽자